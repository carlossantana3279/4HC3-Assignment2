<html>
    <head>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
         <!--<link rel="stylesheet" href="home.css">-->
    </head>
    <body>
        <button onclick="goBackToParkingTime()">back</button>  
        <div id="parkingTimeContent">
              
            <h1>How many spots would you like to purchase?</h1>
            <Label>Spots</Label>
            <select id="ddSpots" name="spots" onchange="updateCost()">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
            </select>  

            <button onclick="goToElectricCarSelect()">Next</button>
            <h6 id="parkingSpotPrice">Price: $0.00</h6>
        </div>

        <script>
            function initialize() {
                var price = document.getElementById("parkingSpotPrice");
                var spots = document.getElementById("ddSpots");

                spots.value = parent.globalState.spots; 
                price.innerHTML = "Price: $" + parent.globalState.singleParkingSpotCost*spots.value;
            }
            initialize();

            function updateCost(){
                var ddSpots = document.getElementById("ddSpots");
                var spots = ddSpots.options[ddSpots.selectedIndex].value;
                var oldPrice = document.getElementById("parkingSpotPrice");
                var newPrice = parent.globalState.singleParkingSpotCost * spots;
                oldPrice.innerHTML = "Price: $" + newPrice; 

                parent.globalState.spots = spots;
                parent.globalState.cost = newPrice;
            }

            function goToElectricCarSelect() {
                var ddSpots = document.getElementById("ddSpots");
                var spots = ddSpots.options[ddSpots.selectedIndex].value;
                var price = document.getElementById("parkingSpotPrice").innerHTML;
                price = price.replace("Price: $","");

                parent.globalState.spots = spots;
                parent.globalState.cost = price;
                console.log(parent.globalState);
                

                location.href = "./parkingElectric.html";
            }

            function goBackToParkingTime(){
                cleanUp();
                console.log(parent.globalState);
                location.href = "./parkingTime.html";
            }

            function cleanUp(){

            }
        </script>
    </body>
</html>